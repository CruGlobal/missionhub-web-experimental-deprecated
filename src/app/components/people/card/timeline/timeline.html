<timeline>
  <timeline-event ng-repeat="event in timeline.events">
    <timeline-badge ng-switch="event.type" ng-class="[{'primary': event.type === 'Spiritual Conversation'}, {'danger': event.type === 'Email'}, {'warning': event.type === 'Completed Survey'}]">
      <ng-md-icon ng-switch-when="Spiritual Conversation" icon="people"></ng-md-icon>
      <ng-md-icon ng-switch-when="Email" icon="email"></ng-md-icon>
      <ng-md-icon ng-switch-when="Completed Survey" icon="assignment"></ng-md-icon>
    </timeline-badge>
    <timeline-panel class="{{event.badgeClass}}">
      <timeline-heading>
        <h4>{{event.type}} <small>with {{event.initiator}}</small></h4>
        <p>
          <small class="text-muted">
            <i class="glyphicon glyphicon-time"></i>
            {{event.time}} - Visible to everyone in {{event.org}}<span ng-if="event.creator"> - Created by {{event.creator}}</span>
          </small>
        </p>
      </timeline-heading>
      <div ng-switch="event.type">
        <div ng-switch-when="Spiritual Conversation" ng-bind-html="event.comment"></div>
        <div ng-switch-when="Email" ng-bind-html="event.emailBody"></div>
        <div ng-switch-when="Completed Survey">
          <dl class="dl-horizontal">
            <dt ng-repeat-start="surveyQuestion in event.survey">{{surveyQuestion.question}}</dt>
            <dd ng-repeat-end>{{surveyQuestion.answer}}</dd>
          </dl>
        </div>
      </div>
    </timeline-panel>
  </timeline-event>
</timeline>
