<md-card>
  <md-card-content>
    <div layout="row">
      <span><img class="profile-picture" src="{{card.person.picture}}?width=100&height=100" alt="Profile Picture"></span>
      <div layout="column" flex>
        <div layout="column" layout-gt-md="row">
          <div layout="row" flex>
            <h1 flex="50">
              <md-input-container md-no-float>
                <input type="text" ng-model="card.person.first_name" placeholder="First Name">
              </md-input-container>
            </h1>
            <h1 flex="50">
              <md-input-container md-no-float>
                <input type="text" ng-model="card.person.last_name" placeholder="Last Name">
              </md-input-container>
            </h1>
          </div>
        </div>
        <div layout="row" layout-align="space-between">
          <md-input-container>
            <label>Role</label>
            <md-select ng-model="card.person.role">
              <md-optgroup label="Cru Position">
                <md-option ng-value="role" ng-repeat="role in ['Full Time Supported Staff', 'Part Time Field Staff', 'Intern', 'Affiliate', 'Volunteer']">{{role}}</md-option>
              </md-optgroup>
              <md-optgroup label="Campus">
                <md-option ng-value="role" ng-repeat="role in ['Student Leader', 'Event Team']">{{role}}</md-option>
              </md-optgroup>
            </md-select>
          </md-input-container>
          <md-input-container>
            <label>Enrollment</label>
            <md-select ng-model="card.person.student_status">
              <md-option ng-value="id" ng-repeat="(id, label) in {'not_student': 'Not currently a student', 'middle_school': 'Middle School', 'high_school': 'High School', 'collegiate': 'Collegiate', 'masters_or_doctorate': 'Masters/Doctorate'}">{{label}}</md-option>
            </md-select>
          </md-input-container>
          <md-input-container>
            <label>Gender</label>
            <md-select ng-model="card.person.gender">
              <md-option ng-value="gender" ng-repeat="gender in ['Male', 'Female']">{{gender}}</md-option>
            </md-select>
          </md-input-container>
        </div>
      </div>
    </div>

    <md-chips ng-model="card.person.labels" md-autocomplete-snap md-require-match="true">
      <md-autocomplete
        md-selected-item="card.selectedLabel"
        md-search-text="card.labelSearchText"
        md-items="item in card.labelSearch(card.labelSearchText)"
        md-item-text="item.name"
        md-autoselect="true"
        md-min-length="0"
        placeholder="Search for a label">
        <md-item-template>
          <span md-highlight-text="card.labelSearchText" md-highlight-flags="i">{{item}}</span>
        </md-item-template>
        <md-not-found>
          Label not found.
        </md-not-found>
      </md-autocomplete>
      <md-chip-template>
        <span>{{$chip}}</span>
      </md-chip-template>
    </md-chips>

    <div flex layout="column" layout-gt-md="row">
      <div flex layout="column">
        <div class="page-header">
          <h4>Contact Info</h4>
        </div>
        <contact-info title="Emails" label="Email" data="card.person.email_addresses" types="['Home', 'Work', 'Other']"></contact-info>
        <contact-info title="Phone Numbers" label="Phone Number" data="card.person.phones" types="['Home', 'Mobile', 'Work', 'Other']"></contact-info>
        <contact-info title="Addresses" label="Address" data="card.person.addresses" types="['Home', 'Work', 'Other']"></contact-info>
      </div>
      <div flex layout="column">
        <card-timeline events="card.events" loading="card.loading"></card-timeline>
      </div>
    </div>
  </md-card-content>
</md-card>
